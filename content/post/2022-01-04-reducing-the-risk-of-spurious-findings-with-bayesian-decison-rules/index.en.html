---
title: Minimize skepticism about subgroup analyses with skeptical Bayesian decison rules
author: Keith Goldfeld
date: '2022-01-04'
slug: []
categories: []
tags:
  - R
  - Bayesian model
type: ''
subtitle: ''
image: ''
draft: TRUE
---

<script src="{{< blogdown/postref >}}index.en_files/header-attrs/header-attrs.js"></script>


<p>Over the past couple of years, I have been working with an amazing group of investigators as part of the CONTAIN trial to study whether COVID-19 convalescent plasma (CCP) can improve the clinical status of patients hospitalized with COVID-19 and requiring noninvasive supplemental oxygen. This was a multi-site study in the US that randomized 941 patients to either CCP or a saline solution placebo. The overall <a href="(https://jamanetwork.com/journals/jamainternalmedicine/article-abstract/2787090)%7Btarget=%22_blank%22%7D">findings</a> suggest that CCP did not benefit the patients who received it, but if you drill down a little deeper, the story may be more complicated than that.</p>
<p>Of course, it is the “drilling down” part that gets people (and biostatisticians) a little nervous. Once we get beyond the primary analysis, all bets are off. If we look hard enough at the data, we may eventually find something that is interesting to report on. But, just because we find something with the data in hand, it does not mean that we would find it again in another data set from another study. Any conclusions we draw may be unwarranted:</p>
<p><br></p>
<div class="figure">
<img src="extra/significant.png" style="width:50.0%" alt="" />
<p class="caption">Source: <a href="https://xkcd.com/882/" target="_blank">XKCD</a></p>
</div>
<p>The CONTAIN trial was conducted under very difficult circumstances, where the context was rapidly changing over time. Particularly challenging was the fact that new therapies were introduced for hospitalized patients over the course of the trial. And when we looked at the data, we noticed that while all patients had poor clinical outcomes in the first several months of the study, the CCP arm appeared to offer some benefits. Later on in the study, when corticosteroids and remdesivir were standard of care, patient outcomes were dramatically improved, and CCP was no longer providing any benefits. This was a very interesting finding that we felt merited some discussion.</p>
<p>Not surprisingly, we have received some push back, suggesting that this finding is a classic case of <a href="https://www.rdatagen.net/post/regression-to-the-mean/" target="_blank">regression to the mean</a>. Normally, I would not have been comfortable presenting those findings, particularly not in a highly visible journal article. But we had used a Bayesian modelling framework with quite conservative decision criteria and quite skeptical prior distribution assumptions to evaluate the primary outcome and the exploratory outcomes, so we felt that while there is still a non-trivial chance that the findings are spurious, these were not green jelly bean findings. Add to this strong biological plausibility, and we felt quite strongly about presenting this to the growing body of literature about CCP.</p>
<p>In this post, I am exploring through a series of simulations how conservative our conservative approach really is to make an assessment of how to interpret our exploratory analyses. This is <a href="https://www.rdatagen.net/post/2021-12-21-controling-type-1-error-rates-in-rcts-with-interim-looks-a-bayesian-perspective/" target="_blank">another look</a> at assessing Type I error rates, a frequentist notion, in the context of a Bayesian study design.</p>
<div id="the-data" class="section level2">
<h2>The data</h2>
<pre class="r"><code>library(simstudy)
library(data.table)
library(posterior)
library(cmdstanr)
library(gtsummary)</code></pre>
</div>
<div id="data-generation" class="section level2">
<h2>Data generation</h2>
<pre class="r"><code>genRepeatDef &lt;- function(nvars, prefix, formula, variance, dist, link = &quot;identity&quot;) {
  varnames &lt;- paste0(prefix, 1 : nvars)
  data.table(varname = varnames, formula = formula, variance = variance, 
             dist = dist, link = link)
}

def &lt;- genRepeatDef(3, &quot;g&quot;, &quot;1/3;1/3;1/3&quot;, 0, &quot;categorical&quot;)
def &lt;- defData(def, &quot;rx&quot;, formula = &quot;1;1&quot;, dist = &quot;trtAssign&quot;)
def &lt;- defData(def, &quot;y&quot;, formula = &quot;0.10&quot;, dist = &quot;binary&quot;)

def</code></pre>
<pre><code>##    varname     formula variance        dist     link
## 1:      g1 1/3;1/3;1/3        0 categorical identity
## 2:      g2 1/3;1/3;1/3        0 categorical identity
## 3:      g3 1/3;1/3;1/3        0 categorical identity
## 4:      rx         1;1        0   trtAssign identity
## 5:       y        0.10        0      binary identity</code></pre>
<p>A single data set based on these definitions looks like this:</p>
<pre class="r"><code>RNGkind(&quot;L&#39;Ecuyer-CMRG&quot;)
set.seed(2386212)

dd &lt;- genData(1000, def)
dd</code></pre>
<pre><code>##         id g1 g2 g3 rx y
##    1:    1  3  2  3  0 0
##    2:    2  1  3  1  0 0
##    3:    3  3  3  3  0 0
##    4:    4  1  3  1  0 1
##    5:    5  1  1  2  1 0
##   ---                   
##  996:  996  1  2  1  0 0
##  997:  997  2  1  3  0 0
##  998:  998  1  3  2  1 1
##  999:  999  2  1  1  1 0
## 1000: 1000  2  3  2  1 0</code></pre>
</div>
<div id="logistic-regression" class="section level2">
<h2>Logistic regression</h2>
<pre class="r"><code>fitglm &lt;- glm(y ~ factor(g2) + rx:factor(g2) - 1, data = dd)
tbl_regression(fitglm, exponentiate = TRUE)</code></pre>
<div id="zldqumfies" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#zldqumfies .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zldqumfies .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zldqumfies .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zldqumfies .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zldqumfies .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zldqumfies .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zldqumfies .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zldqumfies .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zldqumfies .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zldqumfies .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zldqumfies .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zldqumfies .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#zldqumfies .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zldqumfies .gt_from_md > :first-child {
  margin-top: 0;
}

#zldqumfies .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zldqumfies .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zldqumfies .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#zldqumfies .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zldqumfies .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#zldqumfies .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zldqumfies .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zldqumfies .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zldqumfies .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zldqumfies .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zldqumfies .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#zldqumfies .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zldqumfies .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#zldqumfies .gt_left {
  text-align: left;
}

#zldqumfies .gt_center {
  text-align: center;
}

#zldqumfies .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zldqumfies .gt_font_normal {
  font-weight: normal;
}

#zldqumfies .gt_font_bold {
  font-weight: bold;
}

#zldqumfies .gt_font_italic {
  font-style: italic;
}

#zldqumfies .gt_super {
  font-size: 65%;
}

#zldqumfies .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Characteristic</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>exp(Beta)</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>95% CI</strong><sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>p-value</strong></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">factor(g2)</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">1</td>
<td class="gt_row gt_center">1.06</td>
<td class="gt_row gt_center">1.01, 1.11</td>
<td class="gt_row gt_center">0.026</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">2</td>
<td class="gt_row gt_center">1.13</td>
<td class="gt_row gt_center">1.08, 1.19</td>
<td class="gt_row gt_center"><0.001</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">3</td>
<td class="gt_row gt_center">1.12</td>
<td class="gt_row gt_center">1.07, 1.18</td>
<td class="gt_row gt_center"><0.001</td></tr>
    <tr><td class="gt_row gt_left">factor(g2) * rx</td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td>
<td class="gt_row gt_center"></td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">1 * rx</td>
<td class="gt_row gt_center">1.08</td>
<td class="gt_row gt_center">1.01, 1.15</td>
<td class="gt_row gt_center">0.029</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">2 * rx</td>
<td class="gt_row gt_center">1.01</td>
<td class="gt_row gt_center">0.95, 1.08</td>
<td class="gt_row gt_center">0.7</td></tr>
    <tr><td class="gt_row gt_left" style="text-align: left; text-indent: 10px;">3 * rx</td>
<td class="gt_row gt_center">1.00</td>
<td class="gt_row gt_center">0.93, 1.07</td>
<td class="gt_row gt_center">>0.9</td></tr>
  </tbody>
  
  <tfoot>
    <tr class="gt_footnotes">
      <td colspan="4">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks">
            <em>1</em>
          </sup>
           
          CI = Confidence Interval
          <br />
        </p>
      </td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div id="bayesian-model" class="section level2">
<h2>Bayesian model</h2>
<pre class="r"><code>listdat &lt;- function(dx, grpvar) {
  
  dx[, grp := factor(get(grpvar))]
  
  N &lt;- dx[, .N]
  L &lt;- dx[, nlevels(grp)]
  y &lt;- dx[, y]
  rx &lt;- dx[, rx]
  grp &lt;-dx[, as.numeric(grp)]
  
  list(N = N, L = L, y = y, rx = rx, grp = grp)
}

dat &lt;- listdat(dd, &quot;g2&quot;)</code></pre>
<pre class="r"><code>mod &lt;- cmdstan_model(&quot;extra/simulation.stan&quot;)

fitbayes &lt;- mod$sample(
    data = dat,
    refresh = 0,
    chains = 4L,
    parallel_chains = 4L,
    iter_warmup = 1500,
    iter_sampling = 3000
)</code></pre>
<pre><code>## Running MCMC with 4 parallel chains...
## 
## Chain 2 finished in 6.0 seconds.
## Chain 4 finished in 6.0 seconds.
## Chain 1 finished in 6.0 seconds.
## Chain 3 finished in 6.1 seconds.
## 
## All 4 chains finished successfully.
## Mean chain execution time: 6.0 seconds.
## Total execution time: 6.2 seconds.</code></pre>
<pre class="r"><code>fitbayes$summary(&quot;OR&quot;)</code></pre>
<pre><code>## # A tibble: 3 × 10
##   variable  mean median    sd   mad    q5   q95  rhat ess_bulk ess_tail
##   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1 OR[1]     1.76   1.68 0.523 0.482 1.05   2.71  1.00    7448.    9002.
## 2 OR[2]     1.19   1.15 0.315 0.297 0.748  1.77  1.00    8357.    7965.
## 3 OR[3]     1.11   1.07 0.311 0.290 0.682  1.68  1.00    8706.    8819.</code></pre>
<pre class="r"><code>OR &lt;- as_draws_rvars(fitbayes$draws(variables = &quot;OR&quot;))$OR
Pr(OR &lt; 1)</code></pre>
<pre><code>## [1] 0.03508333 0.29325000 0.39841667</code></pre>
<pre class="r"><code># any((Pr(OR &lt; 1) &gt; 0.95) &amp; (Pr(OR &lt; 0.80 ) &gt; 0.5)) 
any((quantile(OR, .025) &gt; 1) | (quantile(OR, .975) &lt; 1))</code></pre>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="fit-models-for-multiple-subgroups" class="section level2">
<h2>Fit models for multiple subgroups</h2>
<pre class="r"><code>fitmods &lt;-function(dx, grpvar) {
  
  # GLM
  
  dx[, grp := factor(get(grpvar))]
  fitglm &lt;- glm(y ~ grp + rx:grp - 1, data = dx)
  
  pvals &lt;- coef(summary(fitglm))[, &quot;Pr(&gt;|t|)&quot;]

  lpval &lt;- length(pvals)
  freq_res &lt;- any(pvals[(lpval/2 + 1) : lpval] &lt; 0.05)
  
  # Bayes
  
  dat &lt;- listdat(dx, grpvar)
  
  fitbayes &lt;- mod$sample(
    data = dat,
    refresh = 0,
    chains = 4L,
    parallel_chains = 4L,
    iter_warmup = 1500,
    iter_sampling = 3000
  )
  
  OR &lt;- as_draws_rvars(fitbayes$draws(variables = &quot;OR&quot;))$OR
  # bayes_res &lt;- any((Pr(OR &lt; 1) &gt; 0.95) &amp; (Pr(OR &lt; 0.80 ) &gt; 0.5)) 
  bayes_res &lt;- any((quantile(OR, .025) &gt; 1) | (quantile(OR, .975) &lt; 1))

  
  return(data.table(var = grpvar, bayes_res, freq_res))
}

res &lt;- rbindlist(lapply(paste0(&quot;g&quot;, 1:3), function(a) fitmods(dd, a)))</code></pre>
<pre><code>## Running MCMC with 4 parallel chains...
## 
## Chain 1 finished in 6.1 seconds.
## Chain 3 finished in 6.0 seconds.
## Chain 2 finished in 6.1 seconds.
## Chain 4 finished in 6.2 seconds.
## 
## All 4 chains finished successfully.
## Mean chain execution time: 6.1 seconds.
## Total execution time: 6.3 seconds.
## Running MCMC with 4 parallel chains...
## 
## Chain 3 finished in 6.0 seconds.
## Chain 4 finished in 6.0 seconds.
## Chain 1 finished in 6.2 seconds.
## Chain 2 finished in 6.1 seconds.
## 
## All 4 chains finished successfully.
## Mean chain execution time: 6.1 seconds.
## Total execution time: 6.2 seconds.
## Running MCMC with 4 parallel chains...
## 
## Chain 2 finished in 6.0 seconds.
## Chain 3 finished in 5.9 seconds.
## Chain 4 finished in 6.0 seconds.
## Chain 1 finished in 6.0 seconds.
## 
## All 4 chains finished successfully.
## Mean chain execution time: 6.0 seconds.
## Total execution time: 6.1 seconds.</code></pre>
<pre class="r"><code>res</code></pre>
<pre><code>##    var bayes_res freq_res
## 1:  g1     FALSE    FALSE
## 2:  g2     FALSE     TRUE
## 3:  g3     FALSE    FALSE</code></pre>
<pre class="r"><code>first_true &lt;- sapply(res[, c(2,3)], function(x) match(TRUE, x))
first_true</code></pre>
<pre><code>## bayes_res  freq_res 
##        NA         2</code></pre>
<p><img src="{{< blogdown/postref >}}index.en_files/figure-html/unnamed-chunk-9-1.png" width="672" /><img src="{{< blogdown/postref >}}index.en_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
</div>
<div id="simulation" class="section level2">
<h2>Simulation</h2>
<p>I’ve simulated scenarios where there are different numbers of subgroups that we might explore. I’d say we explored between 10 and 15. I am counting con-meds as one subgroup, although in reality this really included 4 sub-subgroups (in the final analysis): No/No, Yes/No, No/Yes, and Yes/Yes for steroids/remdesivir. Another subgroup would have been baseline WHO. In my simulations, I assumed that each subgroup had 3 sub-categories, which seems reasonable since the actual subgroups ranged from 2 to 4 sub-categories. In the simulations I used scenarios ranging from 1 to 20 subgroups.</p>
<p>My goal was to see what the type 1 error rate is based on the number of subgroup analyses that are conducted. If we conduct only 1 analysis, there is less opportunity to make a mistake, so the type I error will be lower. With many analyses, there is more chance we will make at least one mistake. The skeptical tweeters (and JAMA) feel that the type 1 error rate is extremely high, so they are not impressed.</p>
<p>For each scenario, I generated 1000 data sets and fit a model to each on (actually two, one frequentist and one bayes). I tracked how many of these data sets would have been declare “interesting” based on the decision criteria. I used our decision threshold P(OR &lt; 1) &gt; 95% and P(OR &lt; 0.8) &gt; 50% to evaluate the Bayes models, and I used a p-value &lt; 0.05 to evaluate the frequentist model. Each declared success is an “error” since the data were generated without any subgroup-specific treatment effects. The proportion of the 1000 datasets that is an error is our error rate. The attached plot shows the error rates for the two methods (frequentist and Bayes) across different numbers of subgroups that are evaluated.</p>
<p>How to interpret? If we conducted single analysis of a subgroup, the error rate using Bayes is about 5%, and using the frequentist, it is about 13%. Why is the frequentist so high? Well, we are actually conducting three statistical tests for the subgroup, so the error rate will certainly be greater than 5%. As we start looking at more and more subgroups, the error rate for the frequentist approach blows up pretty fast – heading to 70% for 12 subgroups. So, if we find some group that looks interesting, there is a very high probability that the finding is spurious. This is what is driving some of the deep skepticism. However, for the Bayes approach, the error rate is close to 20% for 12 subgroups, so much, much better. But, we still need to be careful in drawing conclusions. It is OK for generating hypotheses, but not great. People have a right to be skeptical, but there is no reason to completely dismiss the finding out of hand. It suggests that more work needs to be done. I think that is the way it has been presented.</p>
</div>
